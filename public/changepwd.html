<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Change Password</title>

</head>

<body style="background-color: black;">



   
    <h1>changepwd</h1>
<form id="changepwd">
    <input type="password" id="password" placeholder="password"/>
    <input type="submit" value="Submit Form"/>
    </form> 
    
    

</body>
<script>

    const form=document.getElementById('changepwd')

    form.addEventListener('submit',changepwd)

    async function changepwd(event){

        event.preventDefault()

        const password=document.getElementById('password').value

        const result=await fetch('/api/changepwd',{

            method:'POST',

            headers:{

                'Content-Type':'application/json'

            },

            body:JSON.stringify({

                newpassword:password,

                token:localStorage.getItem('token')

            })

        }).then((res)=>res.json())

        if(result.status==='OK'){



            alert("Success")

        }else{

            alert(result.error)

        }

        console.log(result)

    }

</script>
</html>